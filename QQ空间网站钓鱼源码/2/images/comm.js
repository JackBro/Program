var g_strArray=new Array("","很抱歉，您当前所用的QQ版本不支持此功能。目前仅支持\r\nQQ2009正式版SP1及以上版本，您可以在http://im.qq.com下载。","您还没有输入QQ帐号！","您还没有输入密码！","您还没有输入验证码！","请输入正确的QQ帐号！","请输入完整的验证码！","QQ帐号：","QQ密码：","验证码：","输入下图中的字符，不区分大小写","看不清，换一张","记住密码","一天","一周","一个月","半年","一年","忘了密码？","登 录","重 填","快速登录模式","用户登录","如果您已登录QQ，点击按钮即可快速登录。","正在登录中，请稍候……","什么是快速登录？","切换到普通登录模式","快速登录","系统繁忙，请您返回重试或切换到普通登录模式。","您的QQ帐号处于离线状态，请先登录或选择普通登录模式。","快速登录失败，请您返回重试或切换到普通登录模式。","返 回","重 试","注册新帐号","确定","支持版本：QQ2008Ⅱ&nbsp;Beta1、QQ2009ⅡBeta","检测到您已登录QQ帐号：","系统检测到您机器上QQ未启动或已被锁定。请您先登录QQ或解锁后再使用本功能。","您所选择号码对应的QQ已经失效，请检查该号码对应的QQ是否已经被关闭。");var LOGIN_FAIL_ERRMSG=["登录成功!","系统繁忙，请稍后重试(%d)。","已经过期的QQ号码。","您输入的密码有误，请重试。","您输入的验证码有误，请重试。","校验失败。","密码错误。如果您刚修改过密码, 请稍后再登录.","您的输入有误, 请重试。","您的IP输入错误的次数过多，请稍后再试。","您输入的帐号不存在，请重试。","您输入的帐号不正确，请重试。","您输入的帐号不正确，请重试。","已经过期的QQ号码。","","该QQ号码已经转换为Email帐号，请使用Email帐号登录。","","您的IP输入错误的次数过多，请稍后再试。","","您的Email帐号未进行验证，请验证后再登录。","很抱歉，您的号码暂时不能登录，请联系客服中心。","很抱歉，您的号码暂时不能登录，请联系客服中心(20)。"];var EXT_RES_MSG=["页面过期，请重试!","登录失败，请重试!"];STR_UINTIP=1;STR_QLOGIN_VERSION_ERR=2;STR_NO_UIN=3;STR_NO_PWD=4;STR_NO_VCODE=5;STR_INV_UIN=6;STR_INV_VCODE=7;STR_UIN=8;STR_PWD=9;STR_VCODE=10;STR_VCODE_TIP=11;STR_CHANGE_VCODE=12;STR_REMEMBER_PWD=13;STR_1_DAY=14;STR_1_WEEK=15;STR_1_MONTH=16;STR_HALF_YEAR=17;STR_1_YEAR=18;STR_FORGET_PWD=19;STR_LOGIN=20;STR_RESET=21;STR_SWITCH_QLOGIN=22;STR_LOGIN_TITLE=23;STR_QLOGIN_INTRO=24;STR_QLOGINING=25;STR_QLOGIN_HELP=26;STR_SWITCH_NORMAL=27;STR_QLOGIN=28;STR_QLOGIN_BUSY=29;STR_QLOGIN_OFFLINE=30;STR_QLOGIN_OTHER_ERR=31;STR_BACK=32;STR_RETRY=33;STR_NEW_REG=34;STR_QLOGIN_SELECT=35;STR_QLOGIN_VER=36;STR_QLOGIN_SELECT_TIP=37;STR_QLOGIN_NO_UIN=38;STR_QLOGIN_SELECT_OFFLINE=39;var g_ptredirect=-1;var g_xmlhttp;var g_loadcheck=true;var g_submitting=false;function ptui_needVC(C,D){var B="http://ptlogin2."+g_domain+"/check?uin="+C+"&appid="+D+"&r="+Math.random();var A=document.createElement("script");A.src=B;document.body.appendChild(A);g_loadcheck=true;return }function ajax_Submit(){if(!isLoadVC){g_uin=0}var D=true;var E=document.forms[0];var B="";for(var A=0;A<E.length;A++){if(E[A].name=="fp"||E[A].type=="submit"){continue}if(E[A].name=="ptredirect"){g_ptredirect=E[A].value}if(E[A].name=="low_login_enable"&&(!E[A].checked)){D=false;continue}if(E[A].name=="low_login_hour"&&(!D)){continue}B+=E[A].name;B+="=";if(E[A].name=="p"){var F="";F+=E.verifycode.value;F=F.toUpperCase();B+=md5(md5_3(E.p.value)+F)}else{if(E[A].name=="u1"||E[A].name=="ep"){B+=encodeURIComponent(E[A].value)}else{B+=E[A].value}}B+="&"}B+="fp=loginerroralert";var C=document.createElement("script");C.src=E.action+"?"+B;document.body.appendChild(C);return }function ptui_checkVC(A,B){g_loadcheck=false;if(g_submitting){return }if(A=="0"){document.getElementById("verifycode").value=B;loadVC(false)}else{document.getElementById("verifycode").value="";loadVC(true)}}function ptuiCB(C,A,B,E){if(B!=""){switch(E){case"0":window.location.href=B;break;case"1":top.location.href=B;break;case"2":parent.location.href=B;break;default:top.location.href=B}return }g_submitting=false;if(C==0){top.location=document.forms[0].ul.value;return }else{if(A==0){if(typeof (LOGIN_FAIL_ERRMSG[C])!="undefined"){alert(LOGIN_FAIL_ERRMSG[C])}else{alert("系统繁忙")}}else{alert(EXT_RES_MSG[A-2]);document.getElementById("p").value="";document.getElementById("p").focus();document.getElementById("p").select()}if(isLoadVC){ptui_changeImg(g_domain,g_appid,true);document.getElementById("verifycode").value="";loadVC(true);document.getElementById("verifycode").focus();document.getElementById("verifycode").select()}if(C==3||C==4){if(navigator.userAgent.toLowerCase().indexOf("webkit")){document.getElementById("u").focus()}if(C==3){document.getElementById("p").value=""}document.getElementById("p").focus();document.getElementById("p").select();if(C==4){try{document.getElementById("verifycode").focus();document.getElementById("verifycode").select()}catch(D){}}if(A!=0){document.getElementById("verifycode").value="";loadVC(true);g_submitting=true}}}}function ptui_trim(A){return A.replace(/(^\s*)|(\s*$)/g,"")}function ptui_str(A){A-=1;if(A>=0&&A<g_strArray.length){return g_strArray[A]}return""}function ptui_mapStr(B){for(i=0;i<B.length;i++){var A=document.getElementById(B[i][1]);if(A!=null){if("A"==A.nodeName||"U"==A.nodeName||"OPTION"==A.nodeName||"LABEL"==A.nodeName||"P"==A.nodeName){if(A.innerHTML==""){A.innerHTML=ptui_str(B[i][0])}}else{if("INPUT"==A.nodeName){if(A.value==""){A.value=ptui_str(B[i][0])}}else{if("IMG"==A.nodeName){A.alt=ptui_str(B[i][0])}}}}}}function ptui_onUserFocus(C,A){var B=document.getElementById(C);if(ptui_str(STR_UINTIP)==B.value){B.value=""}B.style.color=A}function ptui_onUserBlue(C,A){var B=document.getElementById(C);if(""==B.value){B.value=ptui_str(STR_UINTIP);B.style.color=A}}var g_speedArray=new Array();function ptui_setSpeed(B){if(B<=0){return }var A=g_speedArray.length;g_speedArray[A]=new Array(B,new Date())}function ptui_reportSpeed(B){if(Math.random()>0.1){return }url="http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=6000&flag2=1&flag3=1";for(var A=0;A<g_speedArray.length;A++){url=url+"&"+g_speedArray[A][0]+"="+(g_speedArray[A][1]-B)}imgSendTimePoint=new Image();imgSendTimePoint.src=url}function ptui_reportAttr(A){if(Math.random()>0.1){return }url="http://ui.ptlogin2."+g_domain+"/cgi-bin/report?id="+A;imgAttr=new Image();imgAttr.src=url}function ptui_showDiv(A,B){var C=document.getElementById(A);if(null==C){return }if(B){C.style.display="block"}else{C.style.display="none"}}function ptui_notifySize(B){try{obj=document.getElementById(B);if(obj){width=1;height=1;if(obj.offsetWidth>0){width=obj.offsetWidth}if(obj.offsetHeight>0){height=obj.offsetHeight}if(parent.ptlogin2_onResize){parent.ptlogin2_onResize(width,height);window.scroll(0,10)}else{if(!frameElement){frameElement=parent.document.getElementById("login_frame")}frameElement.width=width;frameElement.style.width=width+"px";frameElement.height=height;frameElement.style.height=height+"px";frameElement.style.visibility="hidden";frameElement.style.visibility="visible"}}}catch(A){}}function ptui_notifyClose(){try{if(parent.ptlogin2_onClose){parent.ptlogin2_onClose()}else{if(top==this){window.close()}}}catch(A){window.close()}}function ptui_setUinColor(D,B,A){var C=document.getElementById(D);if(ptui_str(STR_UINTIP)==C.value){C.style.color=A}else{C.style.color=B}}function ptui_onEnableLLogin(B){var A=B.low_login_enable;var C=B.low_login_hour;if(A!=null&&C!=null){C.disabled=!A.checked}}function ptui_changeImgEx(D,C,G,F){var A=document.getElementById("imgVerify");try{if(A!=null){A.src=F+"?aid="+C+"&"+Math.random();var B=document.getElementById("verifycode");if(B!=null&&B.disabled==false&&G){B.focus();B.select()}}}catch(E){}}function ptui_changeImg(B,A,C){ptui_changeImgEx(B,A,C,"http://ptlogin2."+B+"/getimage")}function ptui_changeImgHttps(B,A,C){ptui_changeImgEx(B,A,C,"./getimage")}function ptui_checkQQUin(qquin){if(qquin.length==0){return false}qquin=ptui_trim(qquin);if(!(new RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(qquin))){if(qquin.length<5||qquin.length>12||parseInt(qquin)<1000){return false}var exp=eval("/^[0-9]*$/");return exp.test(qquin)}return true}function ptui_checkPwdOnInput(){if(document.getElementById("p").value.length>=16){return false}return true}function ptui_onLogin(A){try{if(parent.ptlogin2_onLogin){if(!parent.ptlogin2_onLogin()){return false}}if(parent.ptlogin2_onLoginEx){var D=A.u.value;var B=A.verifycode.value;if(ptui_str(STR_UINTIP)==D){D=""}if(!parent.ptlogin2_onLoginEx(D,B)){return false}}}catch(C){}return ptui_checkValidate(A)}function ptui_onLoginEx(B,C){if(ptui_onLogin(B)){var A=new Date();A.setHours(A.getHours()+24*30);setCookie("ptui_loginuin",B.u.value,A,"/","ui.ptlogin2."+C)}return false}function ptui_setDefUin(B,A){if(A==""||A==null){A=getCookie("ptui_loginuin")}A=parseInt(A);if(isNaN(A)){return }if(A<=0){A=""}if(A!=""&&A!=null){B.u.value=A}}function ptui_onReset(A){try{if(parent.ptlogin2_onReset){if(!parent.ptlogin2_onReset()){return false}}}catch(B){}return true}function ptui_initFocus(B){try{var A=B.u;var D=B.p;var E=B.verifycode;if(A.value==""||ptui_str(STR_UINTIP)==A.value){A.focus();return }if(D.value==""){D.focus();return }if(E.value==""){E.focus()}}catch(C){}}function ptui_checkValidate(B){var A=B.u;var D=B.p;var E=B.verifycode;if(A.value==""||ptui_str(STR_UINTIP)==A.value){alert(ptui_str(STR_NO_UIN));A.focus();return false}A.value=ptui_trim(A.value);if(!ptui_checkQQUin(A.value)){alert(ptui_str(STR_INV_UIN));A.focus();A.select();return false}if(D.value==""){alert(ptui_str(STR_NO_PWD));D.focus();return false}if(E.value==""){if(!isLoadVC){loadVC(true);g_submitting=true;return false}alert(ptui_str(STR_NO_VCODE));try{E.focus()}catch(C){}if(!g_loadcheck){ptui_reportAttr(78028)}else{ptui_reportAttr(78029)}return false}if(E.value.length!=4){alert(ptui_str(STR_INV_VCODE));E.focus();E.select();return false}D.setAttribute("maxlength","32");ajax_Submit();return true}function getCookieVal(B){var A=document.cookie.indexOf(";",B);if(A==-1){A=document.cookie.length}return unescape(document.cookie.substring(B,A))}function getCookie(D){var B=D+"=";var F=B.length;var A=document.cookie.length;var E=0;while(E<A){var C=E+F;if(document.cookie.substring(E,C)==B){return getCookieVal(C)}E=document.cookie.indexOf(" ",E)+1;if(E==0){break}}return null}function setCookie(C,E){var A=setCookie.arguments;var H=setCookie.arguments.length;var B=(2<H)?A[2]:null;var G=(3<H)?A[3]:null;var D=(4<H)?A[4]:null;var F=(5<H)?A[5]:null;document.cookie=C+"="+escape(E)+((B==null)?" ":(";expires ="+B.toGMTString()))+((G==null)?"  ":(";path = "+G))+((D==null)?" ":(";domain ="+D))+((F==true)?";secure":" ")}var hexcase=1;var b64pad="";var chrsz=8;var mode=32;function preprocess(A){var B="";B+=A.verifycode.value;B=B.toUpperCase();A.p.value=md5(md5_3(A.p.value)+B);return true}function md5_3(B){var A=new Array;A=core_md5(str2binl(B),B.length*chrsz);A=core_md5(A,16*chrsz);A=core_md5(A,16*chrsz);return binl2hex(A)}function md5(A){return hex_md5(A)}function hex_md5(A){return binl2hex(core_md5(str2binl(A),A.length*chrsz))}function b64_md5(A){return binl2b64(core_md5(str2binl(A),A.length*chrsz))}function str_md5(A){return binl2str(core_md5(str2binl(A),A.length*chrsz))}function hex_hmac_md5(A,B){return binl2hex(core_hmac_md5(A,B))}function b64_hmac_md5(A,B){return binl2b64(core_hmac_md5(A,B))}function str_hmac_md5(A,B){return binl2str(core_hmac_md5(A,B))}function md5_vm_test(){return hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"}function core_md5(K,F){K[F>>5]|=128<<((F)%32);K[(((F+64)>>>9)<<4)+14]=F;var J=1732584193;var I=-271733879;var H=-1732584194;var G=271733878;for(var C=0;C<K.length;C+=16){var E=J;var D=I;var B=H;var A=G;J=md5_ff(J,I,H,G,K[C+0],7,-680876936);G=md5_ff(G,J,I,H,K[C+1],12,-389564586);H=md5_ff(H,G,J,I,K[C+2],17,606105819);I=md5_ff(I,H,G,J,K[C+3],22,-1044525330);J=md5_ff(J,I,H,G,K[C+4],7,-176418897);G=md5_ff(G,J,I,H,K[C+5],12,1200080426);H=md5_ff(H,G,J,I,K[C+6],17,-1473231341);I=md5_ff(I,H,G,J,K[C+7],22,-45705983);J=md5_ff(J,I,H,G,K[C+8],7,1770035416);G=md5_ff(G,J,I,H,K[C+9],12,-1958414417);H=md5_ff(H,G,J,I,K[C+10],17,-42063);I=md5_ff(I,H,G,J,K[C+11],22,-1990404162);J=md5_ff(J,I,H,G,K[C+12],7,1804603682);G=md5_ff(G,J,I,H,K[C+13],12,-40341101);H=md5_ff(H,G,J,I,K[C+14],17,-1502002290);I=md5_ff(I,H,G,J,K[C+15],22,1236535329);J=md5_gg(J,I,H,G,K[C+1],5,-165796510);G=md5_gg(G,J,I,H,K[C+6],9,-1069501632);H=md5_gg(H,G,J,I,K[C+11],14,643717713);I=md5_gg(I,H,G,J,K[C+0],20,-373897302);J=md5_gg(J,I,H,G,K[C+5],5,-701558691);G=md5_gg(G,J,I,H,K[C+10],9,38016083);H=md5_gg(H,G,J,I,K[C+15],14,-660478335);I=md5_gg(I,H,G,J,K[C+4],20,-405537848);J=md5_gg(J,I,H,G,K[C+9],5,568446438);G=md5_gg(G,J,I,H,K[C+14],9,-1019803690);H=md5_gg(H,G,J,I,K[C+3],14,-187363961);I=md5_gg(I,H,G,J,K[C+8],20,1163531501);J=md5_gg(J,I,H,G,K[C+13],5,-1444681467);G=md5_gg(G,J,I,H,K[C+2],9,-51403784);H=md5_gg(H,G,J,I,K[C+7],14,1735328473);I=md5_gg(I,H,G,J,K[C+12],20,-1926607734);J=md5_hh(J,I,H,G,K[C+5],4,-378558);G=md5_hh(G,J,I,H,K[C+8],11,-2022574463);H=md5_hh(H,G,J,I,K[C+11],16,1839030562);I=md5_hh(I,H,G,J,K[C+14],23,-35309556);J=md5_hh(J,I,H,G,K[C+1],4,-1530992060);G=md5_hh(G,J,I,H,K[C+4],11,1272893353);H=md5_hh(H,G,J,I,K[C+7],16,-155497632);I=md5_hh(I,H,G,J,K[C+10],23,-1094730640);J=md5_hh(J,I,H,G,K[C+13],4,681279174);G=md5_hh(G,J,I,H,K[C+0],11,-358537222);H=md5_hh(H,G,J,I,K[C+3],16,-722521979);I=md5_hh(I,H,G,J,K[C+6],23,76029189);J=md5_hh(J,I,H,G,K[C+9],4,-640364487);G=md5_hh(G,J,I,H,K[C+12],11,-421815835);H=md5_hh(H,G,J,I,K[C+15],16,530742520);I=md5_hh(I,H,G,J,K[C+2],23,-995338651);J=md5_ii(J,I,H,G,K[C+0],6,-198630844);G=md5_ii(G,J,I,H,K[C+7],10,1126891415);H=md5_ii(H,G,J,I,K[C+14],15,-1416354905);I=md5_ii(I,H,G,J,K[C+5],21,-57434055);J=md5_ii(J,I,H,G,K[C+12],6,1700485571);G=md5_ii(G,J,I,H,K[C+3],10,-1894986606);H=md5_ii(H,G,J,I,K[C+10],15,-1051523);I=md5_ii(I,H,G,J,K[C+1],21,-2054922799);J=md5_ii(J,I,H,G,K[C+8],6,1873313359);G=md5_ii(G,J,I,H,K[C+15],10,-30611744);H=md5_ii(H,G,J,I,K[C+6],15,-1560198380);I=md5_ii(I,H,G,J,K[C+13],21,1309151649);J=md5_ii(J,I,H,G,K[C+4],6,-145523070);G=md5_ii(G,J,I,H,K[C+11],10,-1120210379);H=md5_ii(H,G,J,I,K[C+2],15,718787259);I=md5_ii(I,H,G,J,K[C+9],21,-343485551);J=safe_add(J,E);I=safe_add(I,D);H=safe_add(H,B);G=safe_add(G,A)}if(mode==16){return Array(I,H)}else{return Array(J,I,H,G)}}function md5_cmn(F,C,B,A,E,D){return safe_add(bit_rol(safe_add(safe_add(C,F),safe_add(A,D)),E),B)}function md5_ff(C,B,G,F,A,E,D){return md5_cmn((B&G)|((~B)&F),C,B,A,E,D)}function md5_gg(C,B,G,F,A,E,D){return md5_cmn((B&F)|(G&(~F)),C,B,A,E,D)}function md5_hh(C,B,G,F,A,E,D){return md5_cmn(B^G^F,C,B,A,E,D)}function md5_ii(C,B,G,F,A,E,D){return md5_cmn(G^(B|(~F)),C,B,A,E,D)}function core_hmac_md5(C,F){var E=str2binl(C);if(E.length>16){E=core_md5(E,C.length*chrsz)}var A=Array(16),D=Array(16);for(var B=0;B<16;B++){A[B]=E[B]^909522486;D[B]=E[B]^1549556828}var G=core_md5(A.concat(str2binl(F)),512+F.length*chrsz);return core_md5(D.concat(G),512+128)}function safe_add(A,D){var C=(A&65535)+(D&65535);var B=(A>>16)+(D>>16)+(C>>16);return(B<<16)|(C&65535)}function bit_rol(A,B){return(A<<B)|(A>>>(32-B))}function str2binl(D){var C=Array();var A=(1<<chrsz)-1;for(var B=0;B<D.length*chrsz;B+=chrsz){C[B>>5]|=(D.charCodeAt(B/chrsz)&A)<<(B%32)}return C}function binl2str(C){var D="";var A=(1<<chrsz)-1;for(var B=0;B<C.length*32;B+=chrsz){D+=String.fromCharCode((C[B>>5]>>>(B%32))&A)}return D}function binl2hex(C){var B=hexcase?"0123456789ABCDEF":"0123456789abcdef";var D="";for(var A=0;A<C.length*4;A++){D+=B.charAt((C[A>>2]>>((A%4)*8+4))&15)+B.charAt((C[A>>2]>>((A%4)*8))&15)}return D}function binl2b64(D){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var F="";for(var B=0;B<D.length*4;B+=3){var E=(((D[B>>2]>>8*(B%4))&255)<<16)|(((D[B+1>>2]>>8*((B+1)%4))&255)<<8)|((D[B+2>>2]>>8*((B+2)%4))&255);for(var A=0;A<4;A++){if(B*8+A*6>D.length*32){F+=b64pad}else{F+=C.charAt((E>>6*(3-A))&63)}}}return F}var q_bInit=false;var q_type=0;var g_bQQ2008Running=false;var q_hummerQtrl=null;var g_vOptData=null;var q_aUinList=new Array();function ptui_qInit(){if(q_bInit){return }q_bInit=true;q_type=0;if(!window.ActiveXObject){return }try{q_hummerQtrl=new ActiveXObject("SSOAxCtrlForPTLogin.SSOForPTLogin");var A=q_hummerQtrl.CreateTXSSOData();q_hummerQtrl.InitSSOFPTCtrl(0,A);g_vOptData=q_hummerQtrl.CreateTXSSOData()}catch(B){q_hummerQtrl=null}if(q_hummerQtrl!=null){q_type=2}if(ptui_canSupportQlogin()){q_type=1;if(ptui_checkQQRunning()){g_bQQ2008Running=true;return }}if(q_hummerQtrl!=null){q_type=2}}function ptui_isDefWebLogin(){ptui_qInit();if(0==q_type){return true}if(1==q_type&&!g_bQQ2008Running){return true}if(2==q_type&&q_aUinList.length<=0){return true}if(getCookie("ptui_loginmode")=="1"){return true}return false}function ptui_regDefLogin(C,D){var B;if(D){B=1}else{B=0}var A=new Date();A.setMinutes(A.getMinutes()+15);setCookie("ptui_loginmode",B,A,"/","ui.ptlogin2."+C)}function qlogin_click(C,A,D,B){q_bInit=false;ptui_qInit();if(1==q_type){return qq2008_click(C,A,D,B)}else{if(2==q_type&&q_hummerQtrl!=null){return hummer_click(C,A,D,B)}else{msg(ptui_str(STR_QLOGIN_VERSION_ERR));return false}}return true}function hummer_loaduin(){q_aUinList.length=0;var Q=q_hummerQtrl.DoOperation(1,g_vOptData);if(null==Q){return }try{var N=Q.GetArray("PTALIST");var U=N.GetSize();var P="";var F=document.getElementById("list_uin");for(var V=0;V<U;V++){var C=N.GetData(V);var S=C.GetDWord("dwSSO_Account_dwAccountUin");var G="";var T="";try{G=C.GetArray("SSO_Account_AccountValueList");T=G.GetStr(0)}catch(R){T=0}var L=0;try{L=C.GetWord("wSSO_Account_wFaceIndex")}catch(R){L=0}var M="";try{M=C.GetStr("strSSO_Account_strNickName")}catch(R){M=""}var J=0;try{J=C.GetByte("cSSO_Account_cGender")}catch(R){J=0}var K=0;try{K=C.GetDWord("dwSSO_Account_dwUinFlag")}catch(R){K=0}var D=C.GetBuf("bufGTKey_PTLOGIN");var E=C.GetBuf("bufST_PTLOGIN");var I="";var A=E.GetSize();for(var O=0;O<A;O++){var B=E.GetAt(O).toString("16");if(B.length==1){B="0"+B}I+=B}var H={uin:S,name:T,face:L,nick:M,gender:J,key:I};q_aUinList[V]=H}switch(q_aUinList.length){case 0:ptui_reportAttr(77430);break;case 1:ptui_reportAttr(77431);break;default:ptui_reportAttr(77432)}}catch(R){}}function hummer_getUinObj(B){for(var A=0;A<q_aUinList.length;A++){var C=q_aUinList[A];if(C.uin==B){return C}}return null}function hummer_click(C,A,D,B){hummer_loaduin();if(q_aUinList.length<=0){msg(ptui_str(STR_QLOGIN_NO_UIN));return false}else{if(ptui_buildUinList){ptui_buildUinList(q_aUinList)}qlogin_notifyStatus(3)}return true}function hummer_login(E,C,A,F){g_ptredirect=1;if(A==""){g_ptredirect=document.forms[0].ptredirect.value;A="jump"}else{if(g_qtarget!=-1){g_ptredirect=g_qtarget}}try{if(parent.ptlogin2_onLogin){if(!parent.ptlogin2_onLogin()){return false}}}catch(D){}var B="http://ptlogin2."+C+"/"+A+"?clientuin="+E.uin+"&clientkey="+E.key+"&keyindex=9";if(F!=null&&F!=""){B+=("&"+F)}switch(parseInt(g_ptredirect)){case 0:window.location.href=B;break;case 1:top.location.href=B;break;case 2:parent.location.href=B;break;default:top.location.href=B}qlogin_notifyStatus(1)}function qq2008_click(E,A,G,D){try{g_ptredirect=1;if(A==""){g_ptredirect=document.forms[0].ptredirect.value;A="jump"}else{if(g_qtarget!=-1){g_ptredirect=g_qtarget}}var C=parseInt(Math.random()*4294967295);var B="Tencent://OneClickLogin/?exe=QQ&index=1&webid="+C+"&domain="+E+"&jumpname="+A+"&param="+escape(escape(G))+"&failurl="+escape(escape(D));qlogin_notifyStatus(1);window.name=C;switch(parseInt(g_ptredirect)){case 0:window.location.href=B;break;case 1:top.location.href=B;break;case 2:parent.location.href=B;break;default:top.location.href=B}}catch(F){}}function ptui_getActivXVer(){try{var C=new ActiveXObject("TimwpDll.TimwpCheck");var A=C.GetVersion();return A}catch(B){return 0}}function ptui_canSupportQlogin(){if(ptui_getActivXVer()<3.9){return false}try{var C=new ActiveXObject("TimwpDll.TimwpCheck");var A=C.GetHummerQQVersion();return false}catch(B){}return true}function ptui_qlogin_timeout(A){if(0==A){return 5*1000}else{return 240*1000}}function ptui_checkQQRunning(){try{var B=new ActiveXObject("TimwpDll.TimwpCheck");return B.CheckQQRunning()}catch(A){return false}}var vOriWndName="";var vQloginStatus=0;var vTimeId0=0;var vTimeId1=0;window.name=vOriWndName;function qlogin_clearTimeout(A){if(A!=0){clearTimeout(A)}}function qlogin_notifyStatus(A){if(vQloginStatus==A){return }vQloginStatus=A;if(0==A){window.name=vOriWndName;qlogin_clearTimeout(vTimeId0);qlogin_clearTimeout(vTimeId1);vTimeId0=0;vTimeId1=0}else{if(1==A){qlogin_clearTimeout(vTimeId0);qlogin_clearTimeout(vTimeId1);vTimeId0=setTimeout("qlogin_notifyStatus(2)",5*1000);vTimeId1=setTimeout("qlogin_notifyStatus(0)",240*1000)}else{if(2==A){qlogin_clearTimeout(vTimeId0);vTimeId0=0}}}if(onQloginStatusChange!=null){onQloginStatusChange(A)}}var vAutoLogin=0;function qlogin_autoClick(C,A,D,B){if(!ptui_canSupportQlogin()){return }if(!ptui_checkQQRunning()){return }if(0==vAutoLogin){qlogin_click(C,A,D,B)}vAutoLogin=1};/*  |xGv00|abf9c60314f0f4194325d465abb4476a */